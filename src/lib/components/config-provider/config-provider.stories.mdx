import { ConfigProvider } from './config-provider'
import { Canvas, Meta, Source } from '@storybook/addon-docs'
import { ErrorPage } from '../error-page'
import { useTheme } from './use-theme'
import { defaultTranslations } from './default-translations'

<Meta title="Config Provider" />

# Config Provider

## Translations

If you want to change translations you can pass translations to the ConfigProvider.

<Canvas>
  <ConfigProvider translations={{ ErrorPage: { 404: { title: 'Custom 404 Title' } } }}>
    <ErrorPage type={404} />
  </ConfigProvider>
</Canvas>

### Default Translations

```js
const defaultTranslations = {
  LayoutFullPageLoading: {
    tip: 'Loading...'
  },
  ErrorPage: {
    403: {
      title: '403',
      description: 'Sorry, you are not authorized to access this page.'
    },
    404: {
      title: '404',
      description: 'Sorry, the page you visited does not exist.'
    },
    500: {
      title: '500',
      description: 'Sorry, something went wrong please try again.'
    }
  },
  Editable: {
    btnEditTitle: 'Edit Data',
    btnSaveTitle: 'Save',
    btnCancelTitle: 'Cancel'
  },
  FormOverlay: {
    btnSave: 'Save',
    btnCancel: 'Cancel',
    btnReset: 'Reset'
  },
  ImagePreview: {
    emptyText: 'No Image',
    confirmDeleteText: 'Do you really want to delete this image?',
    btnFullSizeTitle: 'Show Full Size',
    btnEditImageTitle: 'Edit Image',
    btnDeleteImageTitle: 'Delete Image'
  },
  InputImage: {
    dropWaiting: "Drag 'n' drop some files here, or click to select files",
    dropActive: 'Drop the files here ...'
  },
  SortableItem: {
    btnDeleteTitle: 'Delete'
  },
  confirmDelete: {
    okText: 'Delete',
    content: 'This action cannot be undone.'
  },
  AdvancedTable: {
    perPage: '/ page',
    showFilters: 'Show Filters',
    hideFilters: 'Hide Filters',
    btnApplyFilters: 'Apply Filters',
    btnResetFilters: 'Reset Filter',
    reloadTable: 'Reload Table',
    exportCsv: 'Export CSV',
    columnHeight: 'Column Height',
    settings: 'Settings',
    resetSettings: 'Reset',
    large: 'Large',
    medium: 'Medium',
    small: 'Small'
  },
  confirmAction: {
    okText: 'Continue',
    content: 'Do you want to continue?'
  }
}
```

## Theme

If you want to change theme you can pass use ConfigProvider and use `useTheme` and it's functions
`setCss` and `setCssVariables` in child components.

export const CssVariableContent = () => {
  const { setCssVariables } = useTheme()
  return <button onClick={() => setCssVariables({ '--primary-color': '#a00' })}>Change Background Color</button>
}

<Canvas>
  <ConfigProvider>
    <div style={{ background: 'var(--primary-color)' }}>This background changes</div>
    <CssVariableContent />
  </ConfigProvider>
</Canvas>

export const CssContent = () => {
  const { setCss } = useTheme()
  return <button onClick={() => setCss('.test { color: #a00 }')}>Change Text Color</button>
}

<Canvas>
  <ConfigProvider>
    <div className="test">This text color changes</div>
    <CssContent />
  </ConfigProvider>
</Canvas>
